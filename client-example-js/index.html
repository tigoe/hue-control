<html>

<head>
    <link rel="stylesheet" href="style.css">
    <script src="hue.js"></script>
</head>

<body>
    <h1>Hue JavaScript Example</h1>
    <p>This example uses the Hue API v.1 and the JS fetch command to make HTTP calls to a Hue bridge. </p>
    <p><b>NOTE: To make this page work, the computer on which you're viewing the page needs to be on the same local network as the Hue bridge that you wish to access. </b></p>
  <p><a href="https://github.com/tigoe/hue-control/tree/main/client-example-js">See the HTML source code here</a>
    </p>  

   <p><a href="https://tigoe.github.io/hue-control/client-example-js-minimal/">Here is a more minimal HTML/JSS page for controlling a bridge.</a>
    </p>
    <div id="addressDiv">
        <h2>Step 1: Your Bridge's address</h2>
        <label for="address">Enter your bridge's IP address here:</label>
        <input type="text" name="address" id="address"><br>
    </div>
    <div>
        <h2>Step 2: Your Username</h2>
        <h3>If You Have Never Connected to the Bridge</h3>
        When you first connect your app to a hue bridge, the bridge issues you an <b>app username</b>. It's a long string of text
        that you'll use for subsequent requests. To create a new user on a bridge, you need to give the hue a <b>devicetype</b>. The devicetype doesn't matter much for programming, so if you don't know what to put, use your name, as it's easier to keep track that way.
        <ol>
            <li> To make a new username, enter devicetype: <input type="text" name="devicetype" id="devicetype"></li>
            <li>then press the button on the bridge...</li>
            <li>then within 30 seconds, press this button: <input type="button" id="newuser" value="Make a new user">
            </li>
            <li>If you succeed, the results will appear below, and also in the username field.</li>
        </ol>
    </div>
    <div>
    <h3>If You Have Already Connected to the Bridge</h3>
        <p>The following functions require the bridge IP address and a valid app username.</p>

                <label for="username">If you have an app username, enter it here:
        </label>
        <input type="text" name="username" id="username">

        <p>To get the whole system status as a long JSON object, click this button:
        <input type="button" id="lights" value="System status">
        </p>
    </div>
    <div>
        <h3>To change an individual light:</h3>
        <label for="lightNumber">Light Number</label>
        <input type="number" name="lightNumber" id="lightNumber" min="0" max="64" value="2"><br>
        <label for="brightness">Brightness</label>
        <input type="range" name="brightness" id="bri" min="0" max="254"><br>
        <input type="button" id="on" value="On"><br>

    </div>
    <hr width=25% align="left">

    <div id="responseDiv"><b>Messages from the bridge will appear here</b></div>
</body>
</html>